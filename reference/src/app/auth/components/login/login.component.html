<div class="login-page">
  <!-- Left side with beige background -->
  <div class="image-container">
    <div class="logo-container">
      <img src="assets/images/alula-thumbnail.png" alt="Royal Commission for AlUla" class="alula-thumbnail">
    </div>
  </div>

  <!-- Right side with login form -->
  <div class="form-container">
    <div class="form-content">
      <!-- <a href="#" class="back-link">
        <i class="fas fa-arrow-left"></i> Back
      </a> -->

      <h1 class="form-title">Sign In</h1>
      <p class="form-subtitle">Please fill out the following information to sign in</p>

      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label for="username">National ID / Iqama Number</label>
          <div class="input-with-icon">
            <i class="fas fa-id-card icon-left"></i>
            <input
              type="text"
              id="username"
              formControlName="username"
              placeholder="Enter National ID / Iqama Number"
              [ngClass]="{'is-invalid': loginForm.get('username')?.invalid && loginForm.get('username')?.touched}">
          </div>
          <div class="error-message" *ngIf="loginForm.get('username')?.invalid && loginForm.get('username')?.touched">
            <i class="fas fa-exclamation-circle"></i> National ID / Iqama Number is required
          </div>
        </div>

        <div class="form-group">
          <label for="password">Password</label>
          <div class="input-with-icon">
            <i class="fas fa-lock icon-left"></i>
            <input
              [type]="showPassword ? 'text' : 'password'"
              id="password"
              formControlName="password"
              placeholder="••••••••••••••••••"
              [ngClass]="{'is-invalid': loginForm.get('password')?.invalid && loginForm.get('password')?.touched}">
            <i class="fas"
               [ngClass]="showPassword ? 'fa-eye-slash' : 'fa-eye'"
               (click)="togglePasswordVisibility()"
               class="icon-right toggle-password"></i>
          </div>
          <div class="error-message" *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched">
            <i class="fas fa-exclamation-circle"></i> Password is required
          </div>
        </div>

        <div class="form-options">
          <div class="remember-me">
            <input type="checkbox" id="rememberMe">
            <label for="rememberMe">Remember Me</label>
          </div>
          <a href="#" class="forgot-password">Forgot Password?</a>
        </div>

        <div class="error-alert" *ngIf="errorMessage">
          <i class="fas fa-exclamation-triangle"></i> {{ errorMessage }}
        </div>

        <div class="test-accounts-info">
          <h4>Available Test Accounts</h4>
          <ul>
            <li><strong>LP Specialist:</strong> username: lp-specialist, password: 123qwe</li>
            <li><strong>Manager:</strong> username: agriculture-manager, password: 123qwe</li>
            <li><strong>COO:</strong> username: coo, password: 123qwe</li>
          </ul>
          <div class="quick-login">
            <label>Quick Login:</label>
            <select (change)="selectTestAccount($event.target.value)">
              <option value="">Select a role...</option>
              <option value="lp-specialist">LP Specialist</option>
              <option value="agriculture-manager">Manager</option>
              <option value="coo">COO</option>
            </select>
          </div>
        </div>

        <button type="submit" [disabled]="loginForm.invalid || isLoading" class="sign-in-button">
          <span *ngIf="isLoading" class="spinner-border spinner-border-sm"></span>
          <span>Sign In</span>
        </button>

        <div class="create-account">
          Don't have an account? <a href="#">Create an account</a>
        </div>
      </form>
    </div>
  </div>
</div>
